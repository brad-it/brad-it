# üõ°Ô∏è TryHackMe ‚Äì Blue Room | GitHub Write-Up

---

## üîµ Introduction

This write-up documents my investigation and exploitation of the **Blue Room** on TryHackMe, a Windows-based vulnerable machine designed to simulate a real-world SMB exploitation scenario. As an IT Helpdesk professional actively transitioning into cybersecurity, this room helped reinforce key skills in **network enumeration, vulnerability identification, exploitation, privilege escalation, and post-exploitation forensics** from both an offensive and defensive (Blue Team) perspective.

---

## üîé Initial Enumeration

### Nmap Port Scan

```bash
nmap -p 1-999 10.10.239.14
```

### Results

```
Host is up (0.13s latency).
Not shown: 996 closed tcp ports (reset)

PORT    STATE SERVICE
135/tcp open  msrpc
139/tcp open  netbios-ssn
445/tcp open  microsoft-ds
```

The results confirmed that **SMB services were exposed**, which is a common attack surface for Windows targets.

---

## ‚ö†Ô∏è Vulnerability Scanning

### Open Ports Identified

```
135/tcp   open  msrpc
139/tcp   open  netbios-ssn
445/tcp   open  microsoft-ds
3389/tcp  open  ms-wbt-server
49152/tcp open  unknown
49153/tcp open  unknown
49154/tcp open  unknown
49158/tcp open  unknown
49160/tcp open  unknown
```

### SMB Vulnerability Results

```
smb-vuln-ms17-010:
VULNERABLE: Remote Code Execution vulnerability in Microsoft SMBv1 (ms17-010)
State: VULNERABLE
CVE: CVE-2017-0143
Risk Factor: HIGH
```

‚úÖ The system was confirmed to be vulnerable to **EternalBlue (MS17-010)**.

---

## üí• Exploitation

Using **Metasploit**, I searched for and loaded the EternalBlue exploit module and configured the required options:

* `RHOSTS` ‚Äì Target IP
* `LHOST` ‚Äì Attacker IP
* Payload selection

After running the exploit, I successfully gained an initial shell on the system.

üì∏ **Screenshots:**

![Metasploit Module](images/thm-blue-metasploit-module.png)
![Successful Exploitation](images/exploit-success.png)

---

## ‚¨ÜÔ∏è Privilege Escalation

Once access was established, I:

* Upgraded to a **Meterpreter session**
* Enumerated running processes
* Migrated into a **SYSTEM-level process**

This granted me full administrative control of the machine.

üì∏ **Screenshots:**

```md
![Process List](images/process-list.png)
![System Migration](images/system-migration.png)
```

---

## üîê Credential Dumping

After achieving SYSTEM privileges, I dumped the **NTLM password hashes** from the system. The hash belonging to the user **Jon** was cracked using **CrackStation**, revealing valid credentials.

üì∏ **Screenshot:**

```md
![Hash Dump](images/hashdump.png)
```

---

## üö© Flag Discovery

All three flags were located successfully at the following locations:

| Flag   | Location                               |
| ------ | -------------------------------------- |
| Flag 1 | `C:\flagt1.txt`                        |
| Flag 2 | `C:\Windows\System32\config\flag2.txt` |
| Flag 3 | `C:\Users\Jon\Documents\flag3.txt`     |

‚úÖ All flags captured successfully.

---

## ‚úÖ Skills Demonstrated

* Network Enumeration (Nmap)
* SMB Vulnerability Identification
* EternalBlue (MS17-010) Exploitation
* Meterpreter Usage
* Privilege Escalation
* NTLM Hash Dumping & Cracking
* Windows File System Navigation

---

## üõ°Ô∏è Blue Team Mitigation Notes

From a defensive perspective, this attack could have been prevented by:

* Applying Windows security patches
* Disabling SMBv1
* Restricting SMB exposure to internal networks only
* Implementing IDS/IPS signatures for EternalBlue
* Monitoring abnormal SMB traffic and exploit behavior

---

## üéØ Final Thoughts

This lab demonstrated how a **single unpatched vulnerability** can lead to full system compromise. It reinforced both offensive exploitation techniques and defensive security best practices that are critical for SOC analysts and Blue Team roles.

---
